<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/base}">
<head>
    <title>Booking Confirmation</title>
    <!-- Link to custom stylesheet -->
    <link rel="stylesheet" th:href="@{/style.css}">

    <!-- Hide search button when on confirmation page -->
    <style>
        .search-btn {
            display: none !important;
        }
    </style>
</head>
<body>

<!-- Injects into the "content" section of base.html -->
<section layout:fragment="content" class="text-center">

    <!-- Page heading -->
    <h2>Booking Confirmed</h2>

    <!-- Personalized confirmation message using session username -->
    <p>Thank you, <strong th:text="${username}">User</strong>! Your flight is booked.</p>

    <!-- Card displaying booking summary -->
    <div class="card mx-auto my-4 p-3" style="max-width: 500px;">
        <!-- Displays the airline name -->
        <h5 th:text="${booking.formattedAirline}">Airline</h5>

        <!-- Flight details: route, time, and price -->
        <p>
            <strong>From:</strong> <span th:text="${booking.origin}"></span> â†’
            <strong>To:</strong> <span th:text="${booking.destination}"></span><br>
            <strong>Departure:</strong> <span th:text="${booking.formattedDepartureTime}"></span><br>
            <strong>Arrival:</strong> <span th:text="${booking.formattedArrivalTime}"></span><br>
            <strong>Passengers:</strong> <span th:text="${booking.passengers}"></span><br>
            <strong>Total Price:</strong> $<span th:text="${booking.price}"></span>
        </p>
    </div>

    <!-- Button to return to the search form -->
    <a th:href="@{/}" class="btn btn-primary">Back to Search</a>
</section>

</body>
</html>
